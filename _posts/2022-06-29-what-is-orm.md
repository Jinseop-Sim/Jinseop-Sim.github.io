---
layout: post
title: "좋은 객체 지향 프로그래밍이란?"
categories: Springboot
tags: [java]
author:
  - Jinseop Sim
---
Spring은 Java 기반의 Framework이다.  
따라서 객체 지향 언어인 Java에 대해서 먼저 알아야 할 필요가 있다.  

### 객체 지향 프로그래밍?
객체 지향 프로그래밍은 컴퓨터의 프로그램을 명령어의 집합으로  
보는 시각에서 벗어나 여러 개의 __객체__ 들의 모임으로 파악하는 것이다.  
각각의 객체는 메시지를 주고받고 데이터를 처리하는 __협력__ 이 가능하다.  

매우 유연하고 변경이 용이하게 만들어져, 대규모 SW 개발에 많이 사용된다.
이 유연하고 변경이 용이한 객체 지향의 핵심이 바로 __다형성!__   

### 다형성(Polymorphism)
다형성은 세상을 __역할__ 과 __구현__ 으로 구분한다.  

![image](https://user-images.githubusercontent.com/71700079/178716798-4bb91066-eecb-41ec-bc19-cdea927261c5.png)  

위의 예시에서, 운전자는 자동차를 운전할 줄만 알면  
모든 차를 운전할 수가 있다.
즉, 역할만 알고 있다면 구현체가 바뀌어도 사용에 전혀 문제가 없다.  

즉, 우리는 Client에게 영향을 주지 않고 새 제품을 출시할 수가 있다!  
따라서 아래와 같은 장점이 생긴다.  

- Clinet는 대상의 역할(Interface)만 알면 된다.
- Clinet는 굳이 내부 구조를 알 필요가 없다.
- Client는 내부 구조가 변경되어도 영향을 받지 않는다.
- Clinet는 대상 자체를 변경해도 영향을 받지 않는다.

> 다형성의 본질은 Client의 변경 없이,  
> Instance를 실행 시점에 유연하게 변경할 수 있다는 점이다.  

### 좋은 OOP를 위한 5가지 원칙(SOLID)
- SRP : 단일 책임 원칙
  - 한 클래스는 하나의 책임만 갖는다.
  - 하나의 책임이라는 것은 매우 모호하다.
  - 이 때, 중요한 기준은 변경했을 때 파급효과가 적은지이다.
    - SRP를 잘 따랐다면, 파급효과가 적을 것!
- OCP : 개방-폐쇄 원칙
  - SW는 확장에는 열려 있으나, 변경에는 닫혀 있어야 한다.
  - OCP가 깨진다는 것은, 다형성을 이용한 코드 변경 없는 확장이 불가능 하다는 것이다.
  - ex) MemberService의 OCP  
     ![image](https://user-images.githubusercontent.com/71700079/178716892-6d9c864f-bfef-44f1-83ab-bcfdff26ec0a.png)  
    - 이 경우엔, 다형성을 활용했으나 OCP가 깨져버린 경우이다.
    - 이를 해결하기 위해서는 별도의 조립, 설정자가 필요하다!(__Spring Container__)
- LSP : 리스코프 치환 원칙
  - 객체들은 프로그램의 정확성을 유지하며 하위 타입의 Instance로 바꿀 수 있어야 한다.
  - ex) 자동차의 엑셀은 앞으로 가는 기능, 뒤로 가게 구현하면 LSP 위반!
- ISP : 인터페이스 분리 원칙
  - 특정 Client를 위한 인터페이스 여러개가 범용 인터페이스 하나보다 낫다!
  - ex) 자동차 인터페이스 => 운전 부와 정비 부로 분리
  - ex) 사용자 클라이언트 => 운전자 클라이언트, 정비사 클라이언트로 분리.
  - 분리를 하면, 정비 인터페이스가 변해도 운전자는 영향을 받지 않는다.
- DIP : 의존관계 역전 원칙
  > 프로그래머는 추상화에 의존해야지, 구체화에 의존하면 안된다.  
  - 즉, 구현 클래스가 아닌 인터페이스에 의존하도록 설계 해야한다.
    - 역할에 의존함으로써, 유연하게 구현체를 변경하도록 할 수 있다.

> OCP와 DIP는 객체 지향 프로그래밍에 있어서 매우 중요하다!  
> 그리고, 다형성만으로는 OCP와 DIP를 지키기 힘들다!  

### 우리는 왜 Spring을 사용하는가?
Spring은 아래와 같은 기술로 다형성 + OCP, DIP를 가능하도록 한다.

- DI(Dependency Injection) : 의존성 주입
- DI Container : 프로그램의 제어권을 갖고, 의존성을 주입해주는 곳
- IOC(Inversion of Control) : 제어의 역전
  - DI Container에 의해서 구현 가능한 기술.
  - Client 코드에서는 더 이상의 변경이 일어나지 않도록 해준다.

위의 기술로 인해, Client 코드 변경 없이 확장이 가능하다.  
즉, 쉽게 부품만 갈아끼우 듯이 교체를 통한 개발이 가능해진다.   

사진 및 자료 출처 : [김영한의 스프링 핵심 원리 기본편](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8)
