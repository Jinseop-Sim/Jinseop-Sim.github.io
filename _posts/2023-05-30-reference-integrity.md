---
layout: post
title: "참조 무결성의 위험성"
categories: ToyProject
tags: [develop]
author:
  - Jinseop Sim
---
프로젝트의 개발 단계는 마무리 되고,  
자잘한 오류들을 수정하는 디버깅 단계에서 문제가 발생했다.  
회원을 탈퇴시킬 때, __참조 무결성 오류__ 가 발생했다.  

### 참조 무결성 오류?
기본적으로 관계형 데이터베이스는 테이블 간에 관계가 존재한다.  
해당 관계에서 키를 참조하는 테이블이 존재한다면 문제가 발생할 수 있다.  

만약 집과 사람 엔티티가 있다고 가정해보자.  
사람이 만약 그 집에 살고있다면, 사람과 집은 1대1 관계를 가질 수 있다.  
그럼 집 엔티티는 거주인으로 외래키를 가질 수 있다는 말과 같다.  

만약 갑자기 사람이 사라진다면?  
실제로도 퇴거 신청을 하지 않고 나가면 문제가 될 수 있는 것처럼,  
집은 사람을 외래키로 들고 있는데 사람만 삭제되면 당연히 문제가 발생한다.  
이를 우리는 __참조 무결성 위반__ 이라고 부른다.  

### 프로젝트로의 적용
현재 회원들은 글과 댓글을 작성할 수 있도록 서비스가 제공된다.  
