---
layout: post
title: "백준 1043 - 거짓말"
categories: Baekjoon
tags: [cpp]
author:
  - Jinseop Sim
---
> [백준 1043 - 거짓말](https://www.acmicpc.net/problem/1043)  

이번 문제는 백준의 골드4 문제 거짓말 문제이다.  
문제를 차근차근 읽어보도록 하자.  

지민이는 얘기를 과장되게 하는 거짓말쟁이이다.  
지민이가 파티에 참석을 할 것인데, 거짓말쟁이로 소문이 나서는 안된다.  
그러기 위해서는 진실을 아는 사람과 같은 파티에 가서는 안된다.  
또한, 진실을 들은 사람이 있는 파티에도 참석할 수 없다.  

최대 ```50```명의 사람이 주어지며, ```50```개의 파티가 주어질 수 있다.  
또한, 진실을 아는 사람이 주어진다.  

문제를 어떻게 풀어야 할까?  

### 완전 탐색?
가장 먼저 떠오르는 풀이는 모든 파티를 훑어보는 완전탐색이다.  

진실을 아는 사람들을 1차원 배열에 ```boolean``` 값으로 저장을 한다.  
이후 주어지는 파티에 입력되는 모두에 대해 진실을 아는 사람이 있는지 확인한다.  
만약 진실을 아는 사람이 한 명이라도 있는 파티라면, 지민이는 진실을 말해야 한다.  

이 때 관건은 진실을 아는 사람이 있는 파티에 있던 모두도 진실을 알게 된다는 점이다.  
그럼 파티에 있던 모두를 ```boolean``` 값으로 다시 표시해주어야 한다는 말이다.  
만약 배열을 훑는 중, 진실을 아는 사람이 중간에 끼어있다면 처음부터 배열을 다시 돌아야 한다.  
그래서 아래와 같이 참여할 수 없는 파티를 따로 저장해주었다.  
{% highlight cpp %}
for (int i = 1; i <= parties; i++) {
		cin >> party_members;
		bool is_known = false;

		for (int j = 0; j < party_members; j++) {
			cin >> person;
			graph[i].push_back(person);

			if (know[person] && !is_known) {
				dangerous_party.push_back(i);
				dangerous_check[i] = true;
				is_known = true;
			}
		} // 좋은 형태가 아님
	} // O(N^2) => 최대 2500
{% endhighlight %}  

이후, ```dangerous_party```를 따로 한번더 돌면서 진실을 아는 사람을 체크했다.  


### Union find?
관건은 진실을 아는 사람이 있는 파티에 있는 모두를 어떻게 기록할 것인가이다.  
