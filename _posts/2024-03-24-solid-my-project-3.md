---
layout: post
title: "내 프로젝트는 객체 지향적인가? (3)"
categories: ToyProject
tags: [develop]
author:
  - Jinseop Sim
---
### 게시글 별 응답을 분리해야 할까?
저번 글에서 잠깐 언급했던 고민이 아직도 고민이다.  
프론트엔드에서 데이터를 요청해서 내가 반환을 해준다고 생각해보자.  
만약 지금 통합한 상태의 ```DTO```로 응답을 한다면?  

```null```로 들어간 필요 없는 값까지 모두 포함해서 응답이 될 것이다.  
그럼 프론트엔드 입장에서는 아래와 같이 너무 많은 필드가 한번에 넘어갈 것이다.  

<img width="454" alt="스크린샷 2024-03-25 오후 9 27 58" src="https://github.com/Jinseop-Sim/Jinseop-Sim.github.io/assets/71700079/0e869472-2a1e-436b-99a6-0e392528e270">

사용되지 않는 필드까지 한 번에 넘어가면, 프론트의 입장에서 헷갈릴 것 같다.  
이를 방지하기 위해서 기존의 ```DTO```로 바꾸어 넘겨줄 수 있을 것이다.  
아래와 같이 ```Controller```에서 변경한다면 어떨까?  

<img width="950" alt="스크린샷 2024-03-25 오후 9 05 49" src="https://github.com/Jinseop-Sim/Jinseop-Sim.github.io/assets/71700079/597ccc51-bbe0-4d4c-b5bb-72571d748f2f">  

<img width="916" alt="스크린샷 2024-03-25 오후 9 36 04" src="https://github.com/Jinseop-Sim/Jinseop-Sim.github.io/assets/71700079/6de4b4ea-6030-4d39-816d-b721f5b7a037">  

그럼 모든 필드가 전송되던 이전과는 달리, 아래와 같이 응답이 전송된다.  
필요한 필드만 모아놓은 ```ResponseDTO```에 맞추어진 결과를 볼 수 있다.  

<img width="413" alt="스크린샷 2024-03-25 오후 9 44 50" src="https://github.com/Jinseop-Sim/Jinseop-Sim.github.io/assets/71700079/d099670c-a73e-4e5d-8eed-b05e9e93d289">  

훨씬 깔끔하게 응답이 나가는 모습을 볼 수 있다.  
이제 생각해야 할 것은 과연 이 코드는 객체 지향적일까?!  

#### 객체 지향적인가?
- SRP : 먼저 모든 Controller는 하나의 책임만을 가지고 있다.
  - 또한 모든 변경이 발생할 때는, 하나의 이유만으로 변경하면 된다.
- OCP : 만약 게시글에 대한 내용을 수정해야 하는 경우에는?
  - ```dto```나 ```Entity```만 수정하면 된다.
  - ```Controller```의 코드는 변경에 대해 닫혀있다!

꽤 객체 지향적으로 짜여진 코드라고 생각한다.  

#### 그럼 게시글을 게시하는 경우는?
게시글을 게시하는 경우에는, ```ContentsRequestDTO```로 통합하고 있다.  
이 경우엔 필요한 필드만 입력하면 나머지는 자동으로 ```null```로 채워진다.  
따라서 따로 고려해야 할 사항은 없는 것 같다.  

#### 추가 리팩토링 가능성
현재 ```DTO```를 변환하는 과정에 ```new``` 키워드가 사용되어 있다.  
이 부분에 ```Static factory method```를 적용하면 어떨까? 생각해보았다.  

먼저 해당 패턴은 왜 사용되는가?  
- 이름을 붙여 생성자의 역할을 명확히 수 있다.

### 유효성 검증
