---
layout: post
title: "Spring Project의 설계 진행"
categories: Springboot
tags: [java]
author:
  - Jinseop Sim
toc: true
---
Spring으로 Project를 진행하고 설계할 때의 과정을 대략적으로 정리해보자.  

### 요구사항 분석
어떠한 요구가 들어왔을 때 그 요구사항을 제대로 분석함은 매우 중요하다.  
실제 동작하는 화면이나, 기능 목록을 통해서 우리가 구현해야 할 것을 생각한다.  
[사진 삽입]

### Entity 분석 및 테이블 설계
보통 실무에서는 __DDD(도메인 주도 설계)___ 를 기반으로 SW 설계를 진행한다고 한다.  
[링크 삽입]

따라서 우리는 도메인 모델을 정확히 설계하고 그에 맞춰 DB 테이블을 설계해야 한다.  
엔티티에 어떤 값이 들어가야 하는지, Class들이 연관관계를 맺는지 제대로 설계할 필요가 있다.  
[사진 삽입]

### Entity Class 개발
DB 설계를 마쳤으면, 바로 Entity Class 개발에 착수할 수 있다.  

- Entity 설계 시 주의점!
  1. 즉시 로딩은 예측이 어렵고, 어떤 SQL이 실행될지 추적하기가 어렵다.
    - 특히 JPQL을 실행할 때 N+1 문제가 발생활 확률이 높아진다.
    - 따라서 반드시 모든 연관관계는 __LAZY__ 로 설정하도록 하자!
  2. Java Collection은 반드시 필드에서 바로 초기화 해주자.
    - 물론 생성자에서 생성단계에 초기화를 할 수도 있다.
    - 하지만 Best Practice는 필드에서 곧바로 초기화 해주는 것!
    - 이는 NPE로부터 우리를 안전하게 지켜준다.
  3. Table, Column을 생성할 때 이름에 대한 규칙을 적절히 정해야 한다.
    - 보통 Java에선 Camel Case, DB에선 소문자 + Underscore가 관례인 경우가 많다.
    - 스프링은 DB 삽입 시 Camel Case를 자동으로 Underscore로 바꿔준다.
    - 대문자도 소문자로 자동으로 바꿔준다.
    - 물론 실무에 투입되었을 때, 회사에서 정해놓은 내규를 따르는 것이 맞다.